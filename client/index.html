<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Quiz</title>

    <script src="/socket.io/socket.io.js"></script>
    <script src="http://app.xaxxi.net/js/react.js"></script>
    <script src="http://app.xaxxi.net/js/react-dom.js"></script>
    
  </head>
  <body>

    <div id="quiz-app" />

    <script type="text/javascript" src="/public/quiz.js"></script>
    <script type="text/javascript">
      window.QuizApp.init(
        document.getElementById('quiz-app')
      )
    </script>

    <section id="quiz-control">
      <h2>Control panel</h2>
      <p>
        <button id="btn-reset">Reset</button>
        <button id="btn-end">End</button>
      </p>
      <p>
        <button id="btn-q1">Q1</button>
        <button id="btn-h1_1">Q1 Hint1</button>
        <button id="btn-h1_2">Q1 Hint2</button>
        <button id="btn-a1">A1</button>
      </p>
      <p>
        <button id="btn-q2">Q2</button>
        <button id="btn-h2_1">Q2 Hint1</button>
        <button id="btn-h2_2">Q2 Hint2</button>
        <button id="btn-a2">A2</button>
      </p>
    </section>

    <script>
     socket = io.connect();
     document.getElementById('btn-reset')
             .addEventListener('click', function(e) {
               socket.emit('msg', { type: 'reset' });
             });
     document.getElementById('btn-end')
             .addEventListener('click', function(e) {
               socket.emit('msg', { type: 'end' })
             });
     document.getElementById('btn-q1')
             .addEventListener('click', function(e) {
               socket.emit('msg', {
                 type: 'question',
                 question: 'What has four legs and a back but no body?',
                 choices: [ 'Door', 'Chair', 'Spoon' ],
                 score: 10
               });
             });
     document.getElementById('btn-h1_1')
             .addEventListener('click', function(e) {
               socket.emit('msg', {
                 type: 'hint',
                 hint: 'Hint1',
                 score: 5
               });
             });
     document.getElementById('btn-h1_2')
             .addEventListener('click', function(e) {
               socket.emit('msg', {
                 type: 'hint',
                 hint: 'Hint2',
                 score: 1
               });
             });
     document.getElementById('btn-a1')
             .addEventListener('click', function(e) {
               socket.emit('msg', {
                 type: 'answer',
                 answer: 1,
               });
             });
    </script>
    
  </body>
</html>
